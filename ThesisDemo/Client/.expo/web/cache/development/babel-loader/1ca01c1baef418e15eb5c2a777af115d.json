{"ast":null,"code":"\"use strict\";\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _jsxFileName = \"/Users/lunli/Thesis_LL&TJ/Thesis/ThesisDemo/Client/node_modules/react-native-navigation/lib/dist/components/ComponentWrapper.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ComponentWrapper = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar React = tslib_1.__importStar(require(\"react\"));\n\nvar react_lifecycles_compat_1 = require(\"react-lifecycles-compat\");\n\nvar hoist_non_react_statics_1 = tslib_1.__importDefault(require(\"hoist-non-react-statics\"));\n\nvar ComponentWrapper = function () {\n  function ComponentWrapper() {\n    _classCallCheck(this, ComponentWrapper);\n  }\n\n  _createClass(ComponentWrapper, [{\n    key: \"wrap\",\n    value: function wrap(componentName, OriginalComponentGenerator, store, componentEventsObserver) {\n      var concreteComponentProvider = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : OriginalComponentGenerator;\n      var ReduxProvider = arguments.length > 5 ? arguments[5] : undefined;\n      var reduxStore = arguments.length > 6 ? arguments[6] : undefined;\n      var GeneratedComponentClass = OriginalComponentGenerator();\n\n      var WrappedComponent = function (_React$Component) {\n        _inherits(WrappedComponent, _React$Component);\n\n        var _super = _createSuper(WrappedComponent);\n\n        function WrappedComponent(props) {\n          var _this;\n\n          _classCallCheck(this, WrappedComponent);\n\n          _this = _super.call(this, props);\n\n          _this._assertComponentId();\n\n          _this.state = {\n            componentId: props.componentId,\n            allProps: {}\n          };\n          store.setComponentInstance(props.componentId, _assertThisInitialized(_this));\n          return _this;\n        }\n\n        _createClass(WrappedComponent, [{\n          key: \"setProps\",\n          value: function setProps(newProps) {\n            this.setState(function (prevState) {\n              return {\n                allProps: _objectSpread(_objectSpread({}, prevState.allProps), newProps)\n              };\n            });\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function componentWillUnmount() {\n            store.clearComponent(this.state.componentId);\n            componentEventsObserver.unmounted(this.state.componentId);\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            return React.createElement(GeneratedComponentClass, _extends({}, this.state.allProps, {\n              componentId: this.state.componentId,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 25\n              }\n            }));\n          }\n        }, {\n          key: \"_assertComponentId\",\n          value: function _assertComponentId() {\n            if (!this.props.componentId) {\n              throw new Error(\"Component \" + componentName + \" does not have a componentId!\");\n            }\n          }\n        }], [{\n          key: \"getDerivedStateFromProps\",\n          value: function getDerivedStateFromProps(nextProps, prevState) {\n            return {\n              allProps: _objectSpread(_objectSpread({}, nextProps), store.getPropsForId(prevState.componentId))\n            };\n          }\n        }]);\n\n        return WrappedComponent;\n      }(React.Component);\n\n      react_lifecycles_compat_1.polyfill(WrappedComponent);\n      hoist_non_react_statics_1.default(WrappedComponent, concreteComponentProvider === OriginalComponentGenerator ? GeneratedComponentClass : concreteComponentProvider());\n      return ReduxProvider ? this.wrapWithRedux(WrappedComponent, ReduxProvider, reduxStore) : WrappedComponent;\n    }\n  }, {\n    key: \"wrapWithRedux\",\n    value: function wrapWithRedux(WrappedComponent, ReduxProvider, reduxStore) {\n      var ReduxWrapper = function (_React$Component2) {\n        _inherits(ReduxWrapper, _React$Component2);\n\n        var _super2 = _createSuper(ReduxWrapper);\n\n        function ReduxWrapper() {\n          _classCallCheck(this, ReduxWrapper);\n\n          return _super2.apply(this, arguments);\n        }\n\n        _createClass(ReduxWrapper, [{\n          key: \"render\",\n          value: function render() {\n            return React.createElement(ReduxProvider, {\n              store: reduxStore,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 25\n              }\n            }, React.createElement(WrappedComponent, _extends({}, this.props, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 13\n              }\n            })));\n          }\n        }]);\n\n        return ReduxWrapper;\n      }(React.Component);\n\n      hoist_non_react_statics_1.default(ReduxWrapper, WrappedComponent);\n      return ReduxWrapper;\n    }\n  }]);\n\n  return ComponentWrapper;\n}();\n\nexports.ComponentWrapper = ComponentWrapper;","map":{"version":3,"sources":["/Users/lunli/Thesis_LL&TJ/Thesis/ThesisDemo/Client/node_modules/react-native-navigation/lib/dist/components/ComponentWrapper.js"],"names":["Object","defineProperty","exports","value","ComponentWrapper","tslib_1","require","React","__importStar","react_lifecycles_compat_1","hoist_non_react_statics_1","__importDefault","componentName","OriginalComponentGenerator","store","componentEventsObserver","concreteComponentProvider","ReduxProvider","reduxStore","GeneratedComponentClass","WrappedComponent","props","_assertComponentId","state","componentId","allProps","setComponentInstance","newProps","setState","prevState","clearComponent","unmounted","Error","nextProps","getPropsForId","Component","polyfill","default","wrapWithRedux","ReduxWrapper"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ComponentWrapper = void 0;\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst react_lifecycles_compat_1 = require(\"react-lifecycles-compat\");\nconst hoist_non_react_statics_1 = tslib_1.__importDefault(require(\"hoist-non-react-statics\"));\nclass ComponentWrapper {\n    wrap(componentName, OriginalComponentGenerator, store, componentEventsObserver, concreteComponentProvider = OriginalComponentGenerator, ReduxProvider, reduxStore) {\n        const GeneratedComponentClass = OriginalComponentGenerator();\n        class WrappedComponent extends React.Component {\n            static getDerivedStateFromProps(nextProps, prevState) {\n                return {\n                    allProps: {\n                        ...nextProps,\n                        ...store.getPropsForId(prevState.componentId),\n                    },\n                };\n            }\n            constructor(props) {\n                super(props);\n                this._assertComponentId();\n                this.state = {\n                    componentId: props.componentId,\n                    allProps: {},\n                };\n                store.setComponentInstance(props.componentId, this);\n            }\n            setProps(newProps) {\n                this.setState((prevState) => ({\n                    allProps: {\n                        ...prevState.allProps,\n                        ...newProps,\n                    },\n                }));\n            }\n            componentWillUnmount() {\n                store.clearComponent(this.state.componentId);\n                componentEventsObserver.unmounted(this.state.componentId);\n            }\n            render() {\n                return (<GeneratedComponentClass {...this.state.allProps} componentId={this.state.componentId}/>);\n            }\n            _assertComponentId() {\n                if (!this.props.componentId) {\n                    throw new Error(`Component ${componentName} does not have a componentId!`);\n                }\n            }\n        }\n        react_lifecycles_compat_1.polyfill(WrappedComponent);\n        hoist_non_react_statics_1.default(WrappedComponent, concreteComponentProvider === OriginalComponentGenerator\n            ? GeneratedComponentClass\n            : concreteComponentProvider());\n        return ReduxProvider\n            ? this.wrapWithRedux(WrappedComponent, ReduxProvider, reduxStore)\n            : WrappedComponent;\n    }\n    wrapWithRedux(WrappedComponent, ReduxProvider, reduxStore) {\n        class ReduxWrapper extends React.Component {\n            render() {\n                return (<ReduxProvider store={reduxStore}>\n            <WrappedComponent {...this.props}/>\n          </ReduxProvider>);\n            }\n        }\n        hoist_non_react_statics_1.default(ReduxWrapper, WrappedComponent);\n        return ReduxWrapper;\n    }\n}\nexports.ComponentWrapper = ComponentWrapper;\n"]},"metadata":{},"sourceType":"script"}