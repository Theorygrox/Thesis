{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OptionsCrawler = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar merge_1 = tslib_1.__importDefault(require(\"lodash/merge\"));\n\nvar isFunction_1 = tslib_1.__importDefault(require(\"lodash/isFunction\"));\n\nvar LayoutType_1 = require(\"./LayoutType\");\n\nvar OptionsCrawler = function () {\n  function OptionsCrawler(store, uniqueIdProvider) {\n    _classCallCheck(this, OptionsCrawler);\n\n    this.store = store;\n    this.uniqueIdProvider = uniqueIdProvider;\n    this.crawl = this.crawl.bind(this);\n  }\n\n  _createClass(OptionsCrawler, [{\n    key: \"crawl\",\n    value: function crawl(api) {\n      if (!api) return;\n\n      if (api.topTabs) {\n        this.topTabs(api.topTabs);\n      } else if (api.sideMenu) {\n        return this.sideMenu(api.sideMenu);\n      } else if (api.bottomTabs) {\n        return this.bottomTabs(api.bottomTabs);\n      } else if (api.stack) {\n        return this.stack(api.stack);\n      } else if (api.component) {\n        return this.component(api.component);\n      } else if (api.splitView) {\n        return this.splitView(api.splitView);\n      }\n    }\n  }, {\n    key: \"topTabs\",\n    value: function topTabs(api) {\n      var _api$children;\n\n      (_api$children = api.children) == null ? void 0 : _api$children.map(this.crawl);\n    }\n  }, {\n    key: \"sideMenu\",\n    value: function sideMenu(_sideMenu) {\n      this.crawl(_sideMenu.center);\n      this.crawl(_sideMenu.left);\n      this.crawl(_sideMenu.right);\n    }\n  }, {\n    key: \"bottomTabs\",\n    value: function bottomTabs(_bottomTabs) {\n      var _bottomTabs$children;\n\n      (_bottomTabs$children = _bottomTabs.children) == null ? void 0 : _bottomTabs$children.map(this.crawl);\n    }\n  }, {\n    key: \"stack\",\n    value: function stack(_stack) {\n      var _stack$children;\n\n      (_stack$children = _stack.children) == null ? void 0 : _stack$children.map(this.crawl);\n    }\n  }, {\n    key: \"splitView\",\n    value: function splitView(_splitView) {\n      _splitView.detail && this.crawl(_splitView.detail);\n      _splitView.master && this.crawl(_splitView.master);\n    }\n  }, {\n    key: \"component\",\n    value: function component(_component) {\n      this.applyComponentId(_component);\n      this.applyStaticOptions(_component);\n    }\n  }, {\n    key: \"applyComponentId\",\n    value: function applyComponentId(component) {\n      component.id = component.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.Component);\n    }\n  }, {\n    key: \"isComponentWithOptions\",\n    value: function isComponentWithOptions(component) {\n      return component.options !== undefined;\n    }\n  }, {\n    key: \"applyStaticOptions\",\n    value: function applyStaticOptions(layout) {\n      var staticOptions = this.staticOptionsIfPossible(layout);\n      layout.options = merge_1.default({}, staticOptions, layout.options);\n    }\n  }, {\n    key: \"staticOptionsIfPossible\",\n    value: function staticOptionsIfPossible(layout) {\n      var foundReactGenerator = this.store.getComponentClassForName(layout.name);\n      var reactComponent = foundReactGenerator ? foundReactGenerator() : undefined;\n\n      if (reactComponent && this.isComponentWithOptions(reactComponent)) {\n        return isFunction_1.default(reactComponent.options) ? reactComponent.options(_objectSpread({\n          componentId: layout.id\n        }, layout.passProps) || {}) : reactComponent.options;\n      }\n\n      return {};\n    }\n  }]);\n\n  return OptionsCrawler;\n}();\n\nexports.OptionsCrawler = OptionsCrawler;","map":{"version":3,"sources":["/Users/lunli/Thesis_LL&TJ/Thesis/ThesisDemo/Client/node_modules/react-native-navigation/lib/dist/commands/OptionsCrawler.js"],"names":["Object","defineProperty","exports","value","OptionsCrawler","tslib_1","require","merge_1","__importDefault","isFunction_1","LayoutType_1","store","uniqueIdProvider","crawl","bind","api","topTabs","sideMenu","bottomTabs","stack","component","splitView","children","map","center","left","right","detail","master","applyComponentId","applyStaticOptions","id","generate","LayoutType","Component","options","undefined","layout","staticOptions","staticOptionsIfPossible","default","foundReactGenerator","getComponentClassForName","name","reactComponent","isComponentWithOptions","componentId","passProps"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OptionsCrawler = void 0;\nconst tslib_1 = require(\"tslib\");\nconst merge_1 = tslib_1.__importDefault(require(\"lodash/merge\"));\nconst isFunction_1 = tslib_1.__importDefault(require(\"lodash/isFunction\"));\nconst LayoutType_1 = require(\"./LayoutType\");\nclass OptionsCrawler {\n    constructor(store, uniqueIdProvider) {\n        this.store = store;\n        this.uniqueIdProvider = uniqueIdProvider;\n        this.crawl = this.crawl.bind(this);\n    }\n    crawl(api) {\n        if (!api)\n            return;\n        if (api.topTabs) {\n            this.topTabs(api.topTabs);\n        }\n        else if (api.sideMenu) {\n            return this.sideMenu(api.sideMenu);\n        }\n        else if (api.bottomTabs) {\n            return this.bottomTabs(api.bottomTabs);\n        }\n        else if (api.stack) {\n            return this.stack(api.stack);\n        }\n        else if (api.component) {\n            return this.component(api.component);\n        }\n        else if (api.splitView) {\n            return this.splitView(api.splitView);\n        }\n    }\n    topTabs(api) {\n        api.children?.map(this.crawl);\n    }\n    sideMenu(sideMenu) {\n        this.crawl(sideMenu.center);\n        this.crawl(sideMenu.left);\n        this.crawl(sideMenu.right);\n    }\n    bottomTabs(bottomTabs) {\n        bottomTabs.children?.map(this.crawl);\n    }\n    stack(stack) {\n        stack.children?.map(this.crawl);\n    }\n    splitView(splitView) {\n        splitView.detail && this.crawl(splitView.detail);\n        splitView.master && this.crawl(splitView.master);\n    }\n    component(component) {\n        this.applyComponentId(component);\n        this.applyStaticOptions(component);\n    }\n    applyComponentId(component) {\n        component.id = component.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.Component);\n    }\n    isComponentWithOptions(component) {\n        return component.options !== undefined;\n    }\n    applyStaticOptions(layout) {\n        const staticOptions = this.staticOptionsIfPossible(layout);\n        layout.options = merge_1.default({}, staticOptions, layout.options);\n    }\n    staticOptionsIfPossible(layout) {\n        const foundReactGenerator = this.store.getComponentClassForName(layout.name);\n        const reactComponent = foundReactGenerator ? foundReactGenerator() : undefined;\n        if (reactComponent && this.isComponentWithOptions(reactComponent)) {\n            return isFunction_1.default(reactComponent.options)\n                ? reactComponent.options({ componentId: layout.id, ...layout.passProps } || {})\n                : reactComponent.options;\n        }\n        return {};\n    }\n}\nexports.OptionsCrawler = OptionsCrawler;\n"]},"metadata":{},"sourceType":"script"}